<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ink Insights â€” Upload</title>

<!-- Favicon -->
<link rel="icon" href="assests/Ink-logo.png" type="image/png" />
<link rel="stylesheet" href="style.css">
<style>


  *{box-sizing:border-box}
  html,body{margin:0;padding:0}
  body{font-family:"Droid Serif", Georgia, serif; color:#122022; background:var(--bg); line-height:1.55}
  a{color:inherit;text-decoration:none}



  /* ================== PAGE ================== */
.wrap{max-width:1000px;margin:24px auto 64px;padding:0 18px}
.title{font-family:"Rockwell","Courier New";font-weight:400;font-size:64px;line-height:1;margin:14px 0 6px;color:#000;text-shadow:0 2px 0 #cfcfcf,0 6px 16px rgba(0,0,0,.12)}
.top-dash{border-top:4px dashed var(--warm-green);margin:10px 0 18px}

  .title{
  font-family:"Rockwell","Courier New",Courier,Georgia,serif;
  font-weight:400;
  font-size:64px;
  line-height:1;
  margin:14px 0 6px;
  color:#000;
  text-shadow:0 2px 0 #cfcfcf,0 6px 16px rgba(0,0,0,.12);}




  .divider{
  height:0;
  border-top:4px dashed var(--warm-green);
  margin:10px 0 18px;}



  .grid{display:grid;grid-template-columns:1fr 1fr;gap:28px;align-items:start;grid-auto-rows:auto}
  @media(max-width:900px){.grid{grid-template-columns:1fr}}

  .card{background:#fff;border-radius:18px;padding:18px 18px 14px;box-shadow:0 10px 24px rgba(0,0,0,.06)}
  .card.blue{border:3px dashed var(--blue); min-height:300px}
  .card.pink{border:3px dashed var(--pink)}
  .card h2{font-family:"Agency FB","Agency",Impact,Haettenschweiler,"Arial Narrow Bold",sans-serif;font-weight:700;text-align:center;font-size:28px;margin:0 0 10px;text-decoration:underline;text-underline-offset:6px}
  .card p, .card ol, .card li{font-family:"Rockwell","Courier New",Courier,Georgia,serif}
  .card ol{margin:0 0 12px 0; padding-left:0; list-style-position:inside}
  .card li{margin:6px 0}
  .muted{color:var(--dark-grey);font-style:italic}

  .right{display:grid;grid-template-rows:auto auto auto;gap:18px}

  .dropzone{border:3px solid var(--warm-green);border-radius:14px;min-height:300px;display:flex;align-items:center;justify-content:center;text-align:center;position:relative;background:#fff;transition:background .2s ease, box-shadow .2s ease}
  .dz-stack{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:18px}
  .dz-text{color:#d9d9d9;font-size:44px;line-height:1.1;font-family:Georgia, "Droid Serif", serif}
  .dropzone.drag{background:var(--warm-green-20);box-shadow:0 0 0 4px rgba(81,122,6,.15) inset}

  /* Select file button â€” interactive */
  .select-wrap{display:none}
  .select-btn{
    background:#7aa053;color:#fff;border:2px solid #5e7f3e;border-radius:26px;
    padding:10px 18px;
    font-family:"Rockwell","Courier New";
    font-weight:700;letter-spacing:.5px;cursor:pointer;box-shadow:0 3px 0 #4f6d33;text-transform:uppercase;
    display:inline-flex;align-items:center;gap:10px;position:relative;overflow:hidden;
    font-size:.95rem; user-select:none;
    transition:.18s transform ease,.18s box-shadow ease,.18s background-color ease,.18s filter ease;
  }
  .select-btn:hover{transform:translateY(-1px) scale(1.02);box-shadow:0 6px 14px rgba(79,109,51,.35);background:#739a4f;filter:saturate(110%)}
  .select-btn:active{transform:translateY(1px) scale(.99);box-shadow:0 2px 0 #4f6d33 inset;background:#6a8f49}
  .select-btn:focus-visible{outline:3px solid var(--blue);outline-offset:3px}
  .shimmer::before{content:"";position:absolute;inset:0;background:linear-gradient(110deg,transparent 0%,transparent 40%,rgba(255,255,255,.45) 50%,transparent 60%,transparent 100%);transform:translateX(-100%);animation:shimmer 1.6s ease-in-out infinite}
  .select-btn:hover.shimmer::before{animation-duration:1.1s}
  @keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
  .pulse::after{content:"";position:absolute;inset:-6px;border-radius:40px;border:2px solid rgba(122,160,83,.6);animation:pulse 1.6s ease-out infinite}
  @keyframes pulse{0%{opacity:1;transform:scale(.96)}100%{opacity:0;transform:scale(1.15)}}

  .meta{min-height:120px;border-radius:14px;padding:8px 6px}
  .meta-list{display:flex;flex-direction:column;align-items:flex-start;gap:12px}
  .badge{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:18px;border:2px dashed;font-family:"Rockwell","Courier New";font-weight:400}
  .badge.file{background:rgba(81,122,6,.10);border-color:#517A06;color:#517A06}
  .badge.words{background:rgba(255,32,146,.12);border-color:#FF2092;color:#FF2092}
  .badge .value{color:#000}

  /* Get Results â€” NEW ripple + glow, hover = blue bg & white text */
  .cta-row{display:flex;justify-content:center}
  .get-btn{
    --x:50%; --y:50%;
    position:relative; overflow:hidden;
    background:var(--blue-30); color:var(--blue);
    border:2px dashed var(--blue);
    padding:14px 30px; border-radius:26px;
    font-family:"Rockwell"; font-weight:400; font-size:1.05rem; letter-spacing:.5px;
    cursor:pointer; display:inline-flex; align-items:center; gap:10px;
    filter:saturate(105%);
    transition:
      transform .18s ease,
      box-shadow .22s ease,
      background-color .22s ease,
      color .22s ease,
      border-color .22s ease;
    user-select:none;
  }
  /* Ripple circle */
  .get-btn::after{
    content:"";
    position:absolute; left:var(--x); top:var(--y);
    width:0; height:0; transform:translate(-50%,-50%);
    background:radial-gradient(circle, rgba(255,255,255,.45) 0%, rgba(255,255,255,.25) 35%, rgba(255,255,255,0) 70%);
    border-radius:50%;
    pointer-events:none; opacity:0;
  }
  .get-btn.rippling::after{
    animation:ripple .6s ease-out forwards;
  }
  @keyframes ripple{
    0%{width:0;height:0;opacity:.55}
    70%{width:420px;height:420px;opacity:.25}
    100%{width:560px;height:560px;opacity:0}
  }
  /* Hover: blue bg, white text, subtle glow pulse */
  .get-btn:hover{
    background:var(--blue);
    color:#fff;
    border-color:var(--blue);
    transform:translateY(-1px) scale(1.02);
    box-shadow:0 8px 18px rgba(0,166,255,.25), 0 0 0 0 rgba(0,166,255,.35);
    animation:glow 1.8s ease-in-out infinite;
  }
  @keyframes glow{
    0%,100%{box-shadow:0 8px 18px rgba(0,166,255,.25), 0 0 0 0 rgba(0,166,255,.35)}
    50%{box-shadow:0 10px 22px rgba(0,166,255,.35), 0 0 0 8px rgba(0,166,255,.08)}
  }
  .get-btn:active{transform:translateY(1px) scale(.99)}
  .get-btn:focus-visible{outline:3px solid var(--blue);outline-offset:3px;border-radius:28px}

  /* Disabled state */
  .get-btn[aria-disabled="true"],
  .get-btn[disabled]{
    background:rgba(0,0,0,.06);
    color:#9aa6ad;
    border-color:#cfd7dc;
    cursor:not-allowed;
    box-shadow:none;
    animation:none;
    filter:grayscale(30%);
  }
  .get-btn[aria-disabled="true"] .arrow{animation:none;opacity:.4}

  /* Tiny shake when clicked while disabled */
  .get-btn.shake{animation:shake .28s ease}
  @keyframes shake{
    0%,100%{transform:translateX(0)}
    25%{transform:translateX(-4px)}
    50%{transform:translateX(4px)}
    75%{transform:translateX(-2px)}
  }

  .get-btn .arrow{display:inline-block}
  @keyframes slide {0%{transform:translateX(0)}50%{transform:translateX(6px)}100%{transform:translateX(0)}}
  .animate-arrow .arrow{animation:slide 1.2s ease-in-out infinite}

  :focus-visible{outline:3px solid var(--blue);outline-offset:3px;border-radius:8px}
  @media (prefers-reduced-motion: reduce){
    *{animation-duration:.001ms !important;transition-duration:.001ms !important;scroll-behavior:auto !important}
    .get-btn{animation:none}
    .get-btn::after{display:none}
    .select-btn.shimmer::before{display:none}
    .pulse::after{display:none}
    .animate-arrow .arrow{animation:none}
  }


/* ======================= MOBILE BODY LAYOUT STACK ======================= */
@media (max-width: 900px) {
  /* Reorder and center everything vertically */
 .title {
  text-align: center;}
 
  .grid {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
  }

  /* Stack elements in specified order */
  #dropzone {
    order: 1;
    width: 100%;
    max-width: 500px;
    align-items: center;
  }

  .meta {
    order: 2;
    width: 100%;
    max-width: 500px;
    text-align: center;
    align-items: left;
  }

  .cta-row {
    order: 3;
    width: 100%;
    max-width: 500px;
    align-items: left;
  }

  #inst {
    order: 5;
    width: 100%;
    max-width: 500px;
  }

  #rest {
    order: 6;
    width: 100%;
    max-width: 500px;
  }

  /* Small space before Instructions */
  #inst {
    margin-top: 24px;
  }

  /* Center content alignment */
  .meta-list {
   align-items: left;
  }
  .dz-stack {
    display: flex;
    flex-direction: column;
    width: 80%;
    align-items: center;
    justify-content: center;
  }

  .card.blue,
  .card.pink {
     display: flex;
    flex-direction: column;
    align-items: left;
    justify-content: center;
  }


  /* Adjust button */
  .get-btn {
    width: none;
   align-items: center;
  }
}




/* ================= Export Prompt ================= */
.export-prompt {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  opacity: 0;
  pointer-events: none; /* ADD THIS */
  transition: opacity 0.3s ease;
}
.export-prompt.show {
  opacity: 1;
  pointer-events: auto; /* ADD THIS */
}


.prompt-overlay {
  position: absolute; inset: 0; background: rgba(0, 0, 0, 0.45); backdrop-filter: blur(3px);
}

/* ---------- Prompt Card ---------- */
.prompt-card {
  position: relative; background: #fff; padding: 32px 42px; border-radius: 18px; max-width: 440px; box-shadow: 0 6px 22px rgba(0, 0, 0, 0.15); text-align: center; z-index: 2; border: 3px dashed var(--teal);
}

/* ---------- Typography ---------- */
.prompt-card h3 {
  margin-bottom: 10px; color: var(--teal); font-family: 'Droid Serif', serif; font-weight: 700; font-size: 1.5rem;
}
.prompt-card p {
  color: #9C9B9B; margin-bottom: 24px; line-height: 1.6; font-family: 'Rockwell', serif;
}

/* ---------- Actions (Buttons) ---------- */
.prompt-actions {
  display: flex; justify-content: center; gap: 14px;
}

.prompt-actions .btn {
  padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; cursor: pointer; transition: all 0.25s ease; font-weight: 500; letter-spacing: 0.2px;
}

/* Continue button (primary) */
.prompt-actions .btn.keep {
  background: var(--teal); color: #fff; border: none; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
}
.prompt-actions .btn.keep:hover {
  background: var(--white); border: var(--teal); color: var(--teal); box-shadow: 0 0 12px var(--teal); transform: translateY(-2px);
}

/* Delete button (dashed border + hover transition) */
.prompt-actions .btn.delete {
  background: var(--danger-15); color: var(--danger); border: 2px dashed var(--danger); padding: 7px 15px;
}
.prompt-actions .btn.delete:hover {
  background: var(--danger); color: #fff; box-shadow: 0 0 12px var(--danger); transform: translateY(-2px);
}

/* ---------- Mobile Responsiveness ---------- */

@media(max-width:500px){
  .prompt-card { max-height: 90vh; overflow-y: auto; }
}

  .prompt-card h3 {
    font-size: 1.25rem;
  }

  .prompt-card p {
    font-size: 0.9rem; line-height: 1.4;
  }

  .prompt-actions {
    flex-direction: column; gap: 10px;
  }

  .prompt-actions .btn {
    width: 100%; font-size: 0.9rem; padding: 9px 0;
  }
}

.export-prompt {
  opacity: 0;
  transition: opacity 0.3s ease;
}
.export-prompt.show {
  opacity: 1;
}

/* --- Fancy Slide-Up Animation for Prompt --- */
.export-prompt.show .prompt-card {
  animation: slideUp 0.4s cubic-bezier(.22,1,.36,1);
}

@keyframes slideUp {
  0% {
    opacity: 0;
    transform: translateY(30px) scale(0.96);
    box-shadow: 0 0 0 rgba(37,120,129,0);
  }
  60% {
    opacity: 1;
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 0 12px rgba(37,120,129,.25);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    box-shadow: 0 0 8px rgba(37,120,129,.20);
  }
}

/* ---------- Success Prompt Styles (Separate Boxes) ---------- */
.loading-bar-wrap {
  width: 100%;
  height: 12px;
  border: 2px solid var(--teal);
  border-radius: 10px;
  overflow: hidden;
  background: rgba(0, 128, 128, 0.05);
  margin: 20px 0;
}

.loading-bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--teal), var(--blue));
  animation: loadBar 3s ease-in-out forwards;
  border-radius: inherit;
  box-shadow: 0 0 8px rgba(0, 128, 128, 0.4);
}

@keyframes loadBar {
  0% { width: 0%; opacity: 1; }
  90% { width: 100%; opacity: 1; }
  100% { width: 100%; opacity: 0.4; }
}

/* Hidden state for both cards */
#successFinishCard {
  display: none;
  animation: fadeUp 0.8s ease forwards;
  transform: scale(0.85);
  opacity: 0;
}

#successLoadingCard {
  animation: popIn 0.4s ease-out;
}

@keyframes fadeUp {
  0% { transform: scale(0.85); opacity: 0; }
  60% { transform: scale(1.05); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}

/* Add glow flash when complete */
.glow-flash {
  animation: glowFlash 1s ease-in-out forwards;
}
@keyframes glowFlash {
  0% { box-shadow: 0 0 0 rgba(0,128,128,0); }
  50% { box-shadow: 0 0 18px rgba(0,255,200,0.7); }
  100% { box-shadow: 0 0 0 rgba(0,128,128,0); }
}

/* Subtle delay fade-out for loading card */
.fade-out {
  animation: fadeOut 0.4s ease forwards;
}
@keyframes fadeOut {
  to { opacity: 0; transform: scale(0.95); }
}

/* Distinguish the success card with color and shadow */
.success-card {
  border: 3px dashed var(--teal);
  box-shadow: 0 6px 20px rgba(0,128,128,0.25);
}




/* ======================= FIRST-COMER POPUP ======================= */
.popup-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45); /* dim backdrop */
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
  opacity: 0;
  pointer-events: none;
  transition: opacity .3s ease;
}
.popup-overlay.show {
  opacity: 1;
  pointer-events: auto;
}

/* Blurred Popup Box */
.popup-box {
  position: relative;
  border-radius: 24px;
  padding: 48px 36px 50px;
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.35);
  text-align: center;
  max-width: 680px;
  width: 92%;
  animation: popIn .45s ease-out;
}

/* Title */
.popup-box h2 {
  position: relative;
  margin-bottom: 30px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: "Droid Serif", serif;
  font-weight: 700;
  font-size: 40px;
  color: #fff;
  text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
}

/* Animated pastel underline */
.popup-box h2::after {
  content: "";
  position: absolute;
  bottom: -10px;
  left: 50%;
  width: 80%;
  height: 5px;
  border-radius: 3px;
  transform: translateX(-50%);
  background: linear-gradient(
    90deg,
    #ffb6c1,
    #fdfd96,
    #a7f0ba,
    #a1eafb,
    #d1a1fb,
    #ffb6c1
  );
  background-size: 300%;
  animation: pastelUnderline 6s linear infinite;
}

/* Smooth pastel movement */
@keyframes pastelUnderline {
  0% { background-position: 0% 50%; }
  100% { background-position: 300% 50%; }
}


.popup-box {
  position: relative;
  padding: 2rem;
  border-radius: 16px;
  box-shadow: 0 4px 25px rgba(0, 0, 0, 0.3);
  overflow: hidden;
}

/* Pastel gradient border (animated) */
.popup-box::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 3px; /* border thickness */
  background: linear-gradient(
    90deg,
    #ffb6c1,
    #fdfd96,
    #a7f0ba,
    #a1eafb,
    #d1a1fb,
    #ffb6c1
  );
  background-size: 300% 300%;
  animation: pastelBorderFlow 6s linear infinite;
  -webkit-mask: 
    linear-gradient(#fff 0 0) content-box, 
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none; /* prevents blocking inner content */
}

/* Animation same as underline */
@keyframes pastelBorderFlow {
  0% { background-position: 0% 50%; }
  100% { background-position: 300% 50%; }
}



/* Animation Image */
.popup-img {
  width: 100%;
  max-width: 600px;
  border-radius: 14px;
  margin-bottom: 22px;
  justify-content: center;
  user-select: none;
  pointer-events: none;
}

/* Close (Ã—) Button */
.popup-close {
  position: absolute;
  top: 12px;
  right: 16px;
  background: transparent;
  border: none;
  font-size: 40px;
  color: #777;
  cursor: pointer;
  transition: color .25s ease, transform .25s ease, text-shadow .25s ease;
}
.popup-close:hover {
  color: var(--danger, #d63b3b);
  transform: rotate(90deg) scale(1.25);
  text-shadow: 0 0 12px var(--danger, #d63b3b);
}

/* --- Popup  --- */
.popup-btn {
  display: inline-block;
  background: #fff;
  color: var(--dark-teal, #0a3d2e);
  border: 2px solid #fff;
  border-radius: 26px;
  font-family: "Rockwell", "Courier New";
  font-weight: 600;
  padding: 10px 24px;
  margin-top: 10px;
  font-size: 1rem;
  text-transform: uppercase;
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.15);
  cursor: pointer;
  transition: all 0.35s ease, box-shadow 0.35s ease;
  position: relative;
  overflow: hidden;
  animation: gentlePulse 2.4s ease-in-out infinite;
}

/* Shimmer effect */
.popup-btn::before {
  content: "";
  position: absolute;
  top: 0; left: -75%;
  width: 50%; height: 100%;
  background: linear-gradient(120deg, transparent, rgba(255,255,255,0.5), transparent);
  transform: skewX(-25deg);
  opacity: 0;
  transition: opacity .3s ease;
}
.popup-btn:hover::before {
  animation: shimmerSlide 1.3s ease-in-out;
  opacity: 1;
}

/* Hover: invert + glow */
.popup-btn:hover {
  background: transparent;
  color: #fff;
  transform: translateY(-3px);
  box-shadow: 0 6px 18px rgba(255, 255, 255, 0.25);
  border-color: #fff;
  text-shadow: 0 0 8px rgba(255,255,255,0.5);
}

/* Click */
.popup-btn:active {
  transform: scale(.96);
  box-shadow: 0 2px 6px rgba(0,0,0,.25);
}

/* Animations */
@keyframes popIn {
  from { transform: scale(.85); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
@keyframes shimmerSlide {
  0%   { left: -75%; }
  100% { left: 125%; }
}
@keyframes gentlePulse {
  0%, 100% { transform: scale(1); box-shadow: 0 4px 14px rgba(0,0,0,.15); }
  50% { transform: scale(1.05); box-shadow: 0 6px 18px rgba(255,255,255,.25); }
}

@media (max-width: 600px) {
  .popup-box {
    max-width: 94%;
    padding: 28px 18px 32px;
    border-radius: 22px;
    backdrop-filter: blur(18px) saturate(150%);
    background: rgba(255,255,255,0.22);
  }

  .popup-box h2 {
    font-size: 22px;
    margin-bottom: 14px;
  }

  .popup-img {
    max-width: 300px;
    margin-bottom: 16px;
  }

  .popup-btn {
    width: 80%;
    font-size: 0.95rem;
    padding: 10px 0;
  }

  .popup-close {
    font-size: 24px;
    top: 8px;
    right: 12px;
  }
}

.popup-box h2 span {
  display: inline-block;
  opacity: 0;
  transform: scale(0.5);
  animation: stretchBounce 1s ease-out forwards;
}

/* New Animation for Letter Stretching and Bouncing */
@keyframes stretchBounce {
  0% {
    opacity: 0;
    transform: scale(0.5);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Adding a slight delay for each letter */
.popup-box h2 span:nth-child(1) {
  animation-delay: 0s;
}
.popup-box h2 span:nth-child(2) {
  animation-delay: 0.1s;
}
.popup-box h2 span:nth-child(3) {
  animation-delay: 0.2s;
}


/* Underline style */
.popup-box h2::after {
  content: "";
  display: block;
  position: absolute;
  bottom: -10px;
  left: 0;
  width: 100%;
  height: 4px;
  background-color: var(--accent-green, #609d9f);
  transform-origin: left center;
  transform: scaleX(1);
  transition: transform 0.3s ease;
}

 /* Underline animation for h2 */
@keyframes underline {
  0% { transform: scaleX(0); }
  100% { transform: scaleX(1); }
}




</style>
</head>
<body>


  <!-- ======================= HEADER ======================= -->
  <header class="navbar">
    <div class="nav-inner">
      <div class="brand">
        <a href="index.html" aria-label="Go to Home">
          <img src="assests/Ink-logo.png" alt="Ink Insights Logo" />
          <span class="txt"><span class="line1">Ink</span><span class="line2">Insights</span></span>
        </a>
      </div>
      <nav class="navlinks" aria-label="Main">
        <a href="index.html">Home</a>
        <a href="dashboard.html">Dashboard</a>
        <a href="about.html">About Us</a>
        <a href="faq.html">FAQ/Help</a>
        <a href="contact.html">Contact</a>
      </nav>
      <div class="actions">
        <a class="nav-cta" href="upload.html">START ANALYSIS</a>
        <div id="hamb" class="hamb" role="button" aria-label="Open menu" aria-expanded="false" tabindex="0"><span></span><span></span><span></span></div>
      </div>
    </div>
  </header>

  <!-- Drawer + scrim -->
  <aside id="drawer" class="drawer" aria-hidden="true">
    <div class="menu-title">Menu</div>
    <nav class="menu">
      <a href="index.html">Home</a>
      <a href="dashboard.html">Dashboard</a>
      <a href="about.html">About Us</a>
      <a href="faq.html">FAQ/Help</a>
      <a href="contact.html">Contact</a>
    </nav>
    <div class="drawer-cta-wrap"><a class="drawer-cta" href="upload.html">START ANALYSIS</a></div>
  </aside>
  <div id="scrim" class="scrim" aria-hidden="true"></div>

  <!-- ================== MAIN ================== -->
  <main class="wrap">
    <h1 class="title">Upload</h1>
    <div class="divider"></div>

    <section class="grid">
      <article id="inst" class="card blue" aria-labelledby="inst-title" style="grid-column:1;grid-row:1">
        <h2 id="inst-title">Instructions</h2>
        <ol>
          <li>Drag &amp; drop or select the text file (.txt only) you want to analyze.</li>
          <li>Click "Get Results."</li>
        </ol>
        <p>Thatâ€™s it! In just two steps, youâ€™ll get your insights.</p>
        <p class="muted">The word limit is <strong>5,000</strong>. For novels, we recommend analyzing one chapter at a time.</p>
      </article>

      <div class="right" style="grid-column:2;grid-row:1 / span 3">
        <!-- Dropzone -->
        <div id="dropzone" class="dropzone" role="region" aria-label="Drag and drop area">
          <div class="dz-stack">
            <div class="dz-text">Drag &amp; drop your<br/>file here</div>

            <!-- SELECT FILE button -->
            <label class="select-btn shimmer" for="fileInput" role="button" aria-controls="fileInput">
              SELECT FILE <span aria-hidden="true">+</span>
            </label>
            <input id="fileInput" type="file" accept=".txt" hidden>
          </div>
        </div>

        <!-- Meta -->
        <div class="meta" aria-live="polite">
          <div class="meta-list">
            <span class="badge file"><span>File Name:</span> <span class="value" id="fileName">â€”</span></span>
            <span class="badge words"><span>Word Count:</span> <span class="value" id="wordCount">0000</span></span>
          </div>
        </div>

        <div class="cta-row">
          <button id="resultsBtn" class="get-btn animate-arrow shimmer" type="button" aria-disabled="true" title="Upload a .txt file to enable">
            GET RESULTS <span class="arrow">â€º</span>
          </button>
        </div>
      </div>

      <article id="rest" class="card pink" aria-labelledby="trust-title" style="grid-column:1;grid-row:2">
        <h2 id="trust-title">Rest Assured!</h2>
        <p>âœ… Your text is automatically deleted after analysis.<br>âœ… We never store or share your content.<br>âœ… Your data stays 100% private and secure.</p>
      </article>
    </section>


  </main>





<!-- ======================= POPUP ======================= -->
<div id="welcomePopup" class="popup-overlay">
  <div class="popup-box">
    <button class="popup-close">&times;</button>
    <h2>Get Your Report in Few Seconds!</h2>
    <img src="assests/WebAppProcess.gif" alt="Ink Insights Process Animation" class="popup-img" />
    <button class="popup-btn">Let's Get Started</button>
  </div>
</div>

 

<!-- ======================= FILE ISSUE PROMPT ======================= -->
<div id="filePrompt" class="export-prompt">
  <div class="prompt-overlay"></div>
  <div class="prompt-card">
    <h3>Oops! File Issue Detected</h3>
    <p id="filePromptMessage">
      Your file exceeds the 5,000-word limit. Please upload a shorter file.
    </p>
    <div class="prompt-actions">
      <button class="btn keep" id="promptOkBtn">Okay</button>
    </div>
  </div>
</div>

<!-- ======================= FILE SUCCESS PROMPT ======================= -->
<div id="fileSuccess" class="export-prompt">
  <div class="prompt-overlay"></div>

  <!-- Loading Card -->
  <div class="prompt-card" id="successLoadingCard">
    <h3>Importing File</h3>
    <p>We are loading your file...</p>
    <div class="loading-bar-wrap">
      <div class="loading-bar"></div>
    </div>
  </div>

  <!-- Separate Success Card -->
  <div class="prompt-card success-card" id="successFinishCard">
    <h3>Success! ðŸŽ‰</h3>
    <p>Your file was imported successfully.</p>
    <div class="prompt-actions">
      <button class="btn keep" id="successOkBtn">Continue</button>
    </div>
  </div>
</div>

<script>
/* ---------- File Issue Prompt ---------- */
function showFilePrompt(message) {
  const prompt = document.getElementById("filePrompt");
  const msg = document.getElementById("filePromptMessage");
  msg.textContent = message || "There was a problem with your file.";
  
  prompt.classList.add("show");
  
  // Close logic
  document.getElementById("promptOkBtn").addEventListener("click", () => {
    prompt.classList.remove("show");
  });
  prompt.querySelector(".prompt-overlay").addEventListener("click", () => {
    prompt.classList.remove("show");
  });
}

</script>


<script>
/* ---------- File Success Prompt (Separate Cards) ---------- */
function showSuccessPrompt() {
  const overlay = document.getElementById("fileSuccess");
  const loadCard = document.getElementById("successLoadingCard");
  const doneCard = document.getElementById("successFinishCard");
  const bar = overlay.querySelector(".loading-bar");

  // Reset animations
  bar.style.animation = "none";
  void bar.offsetWidth;
  bar.style.animation = "";
  bar.classList.remove("glow-flash");

  // Show overlay and first card
  overlay.classList.add("show");
  loadCard.style.display = "block";
  doneCard.style.display = "none";

  // After bar finishes, transition to success
  setTimeout(() => {
    bar.classList.add("glow-flash");
    setTimeout(() => {
      loadCard.classList.add("fade-out");
      setTimeout(() => {
        loadCard.style.display = "none";
        doneCard.style.display = "block";
      }, 400);
    }, 400);
  }, 3000);
}

// Close manually
document.getElementById("successOkBtn").addEventListener("click", () => {
  document.getElementById("fileSuccess").classList.remove("show");
});
document.querySelector("#fileSuccess .prompt-overlay").addEventListener("click", () => {
  document.getElementById("fileSuccess").classList.remove("show");
});
</script>



 
  <script>
  (function(){
    const els={
      drawer:document.getElementById('drawer'),
      scrim:document.getElementById('scrim'),
      hamb:document.getElementById('hamb'),
      dropzone:document.getElementById('dropzone'),
      fileInput:document.getElementById('fileInput'),
      fileName:document.getElementById('fileName'),
      wordCount:document.getElementById('wordCount'),
      resultsBtn:document.getElementById('resultsBtn')
    };

    /* Drawer controls */
    function openDrawer(){ els.drawer.classList.add('open'); els.drawer.setAttribute('aria-hidden','false'); els.scrim.classList.add('show'); els.scrim.setAttribute('aria-hidden','false'); els.hamb.classList.add('open'); els.hamb.setAttribute('aria-expanded','true'); }
    function closeDrawer(){ els.drawer.classList.remove('open'); els.drawer.setAttribute('aria-hidden','true'); els.scrim.classList.remove('show'); els.scrim.setAttribute('aria-hidden','true'); els.hamb.classList.remove('open'); els.hamb.setAttribute('aria-expanded','false'); }
    function toggleDrawer(){ (els.drawer.classList.contains('open')?closeDrawer:openDrawer)(); }
    els.hamb.addEventListener('click', toggleDrawer);
    els.hamb.addEventListener('keydown', e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); toggleDrawer(); } });
    els.scrim.addEventListener('click', closeDrawer);
    document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeDrawer(); });
    document.querySelectorAll('#drawer a').forEach(a=>a.addEventListener('click', closeDrawer));

    /* Helpers */
    function countWords(t){ return (t.match(/\b[\p{L}\p{N}â€™'-]+\b/gu)||[]).length; }

    function setBtnEnabled(enabled){
      if(enabled){
        els.resultsBtn.removeAttribute('aria-disabled');
        els.resultsBtn.removeAttribute('title');
      }else{
        els.resultsBtn.setAttribute('aria-disabled','true');
        els.resultsBtn.setAttribute('title','Upload a .txt file to enable');
      }
    }


  function handleFile(file){
  if(!/\.txt$/i.test(file.name)){
    showFilePrompt("Please upload only text (.txt) files.");
    return;
  }

  const reader = new FileReader();
  reader.onload = e => {
    const text = e.target.result || '';
    const words = countWords(text);

    if (words > 5000) {
      showFilePrompt("Your file exceeds the 5,000-word limit. Please upload a shorter file.");
      return;
    }

    store(text, file.name);
    showSuccessPrompt(); // show the fancy success popup
  };
  reader.readAsText(file);
  els.fileInput.value = '';
}


    function store(text, name){
      const words = countWords(text);
      try{
        localStorage.setItem('ink_text', text);
        localStorage.setItem('ink_report_meta', JSON.stringify({ name, words, ts: Date.now() }));
      }catch{}
      els.fileName.textContent = name || 'â€”';
      els.wordCount.textContent = words.toLocaleString();
      const ok = (words && words<=5000);
      setBtnEnabled(ok);
    }


// Start backend analysis in background to save time
(async () => {
  try {
    const res = await fetch("https://ink-insights-backend.onrender.com/analyze", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ text, filename: file.name })
    });

    if (!res.ok) {
      console.error("Backend analysis failed:", res.statusText);
      return;
    }

    const data = await res.json();
    localStorage.setItem("ink_results", JSON.stringify(data));
    console.log("âœ… Analysis preloaded successfully.");
  } catch (err) {
    console.error("âš ï¸ Preload error:", err);
  }
})();


    /* Dropzone interactions */
    ['dragenter','dragover'].forEach(evt=>{
      els.dropzone.addEventListener(evt, e=>{ e.preventDefault(); e.dataTransfer.dropEffect='copy'; els.dropzone.classList.add('drag'); });
    });
    ['dragleave','drop'].forEach(evt=>{
      els.dropzone.addEventListener(evt, e=>{ e.preventDefault(); els.dropzone.classList.remove('drag'); });
    });
    els.dropzone.addEventListener('drop', e=>{ const f=e.dataTransfer.files?.[0]; if(f) handleFile(f); });

    /* File input change */
    els.fileInput.addEventListener('change', ()=>{
      const f=els.fileInput.files?.[0];
      if(f) handleFile(f);
    });



    /* GET RESULTS interactions: ripple + behavior */
    function setRipplePosition(e){
      const rect = els.resultsBtn.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      els.resultsBtn.style.setProperty('--x', x + 'px');
      els.resultsBtn.style.setProperty('--y', y + 'px');
    }

    els.resultsBtn.addEventListener('mousemove', (e)=>{
      if(els.resultsBtn.getAttribute('aria-disabled') === 'true') return;
      setRipplePosition(e);
    });

    els.resultsBtn.addEventListener('click', (e)=>{
      if(els.resultsBtn.getAttribute('aria-disabled') === 'true'){
        // little shake feedback if disabled
        els.resultsBtn.classList.remove('shake');
        void els.resultsBtn.offsetWidth;
        els.resultsBtn.classList.add('shake');
        return;
      }
      setRipplePosition(e);
      // trigger ripple
      els.resultsBtn.classList.remove('rippling');
      void els.resultsBtn.offsetWidth; // restart animation
      els.resultsBtn.classList.add('rippling');

      // validation (extra safety)
      const meta = JSON.parse(localStorage.getItem('ink_report_meta')||'{}');
      if(!meta.words || meta.words>5000){
        alert('Please keep files within 5,000 words.');
        return;
      }
      // small delay so ripple is visible, then go to loading
      setTimeout(()=>{ window.location.href='loading.html'; }, 220);
    });

    /* Init from storage if returning */
    (function init(){
      try{
        const meta = JSON.parse(localStorage.getItem('ink_report_meta')||'null');
        const text = localStorage.getItem('ink_text')||'';
        if(meta||text){
          const words = meta?.words ?? countWords(text);
          els.fileName.textContent = meta?.name || 'â€”';
          els.wordCount.textContent = (words||0).toLocaleString();
          setBtnEnabled(!!words && words<=5000);
        }else{
          setBtnEnabled(false);
        }
      }catch{
        setBtnEnabled(false);
      }
    })();
  })();

   /* ---------- First Comer Popup ---------- */
(function popupInit(){
  const popup = document.getElementById('welcomePopup');
  const closeBtn = popup.querySelector('.popup-close');
  const startBtn = popup.querySelector('.popup-btn');

  // Show the popup on every visit (always appears)
  popup.classList.add('show');

  // Function to close the popup
  function closePopup(){
    popup.classList.remove('show');
  }

  // Event listeners to close the popup
  closeBtn.addEventListener('click', closePopup);
  startBtn.addEventListener('click', closePopup);
  popup.addEventListener('click', e => {
    if (e.target === popup) closePopup();
  });
})();

document.addEventListener("DOMContentLoaded", function () {
  const heading = document.querySelector('.popup-box h2');
  const text = heading.innerText;
  heading.innerHTML = ''; // Clear the current text

  // Wrap each letter or space in a span
  for (let i = 0; i < text.length; i++) {
    const char = text[i];
    const span = document.createElement('span');
    span.innerText = char;
    
    // Check if the character is a space, if so, don't wrap in span
    if (char === ' ') {
      heading.appendChild(document.createTextNode(' ')); // Append a space as a text node
    } else {
      heading.appendChild(span); // Otherwise, append the span with the letter
    }
  }
});


  </script>

</body>
</html>
